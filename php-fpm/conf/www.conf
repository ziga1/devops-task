; Default pool; listen on TCP so nginx can reach it inside the network
[www]
user = apache
group = apache

listen = 0.0.0.0:9000

pm = dynamic
pm.max_children = 10
pm.start_servers = 2
pm.min_spare_servers = 1
pm.max_spare_servers = 3

; Allow ENV pass-through (used by the app)
clear_env = no
env[APP_TITLE] = $APP_TITLE
env[DB_HOST]   = $DB_HOST
env[DB_NAME]   = $DB_NAME
env[DB_USER]   = $DB_USER
env[DB_PASS]   = $DB_PASS

; Stream worker output to container logs
catch_workers_output = yes
decorate_workers_output = no

; Access log to stdout (optional, harmless)
access.log = /proc/self/fd/1
